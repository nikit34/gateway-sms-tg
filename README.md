# Пересылка SMS в Telegram

Цель 1: Для оплаты с карты нам необходимо вводить код из смс. Коды в смс приходят на телефон продакта и с него надо пересылать эти коды в telegram, чтобы ребята могли оплачивать покупки при тестировании

Цель 2: При авторизации необходим код с реального номера мобильного телефона

#### Сущности:
- Источник SMS (банк, приложение)

- Телефон клиента (продакта, тестировщика)

- Хостинг с nodejs сервером

- Telegram группа с подписчиками и ботом

#### Сценарий:
1. На телефон приходят SMS от банка или приложения

2. На телефоне установленное и запущенное приложение, которое перенаправляет тело SMS и номер отправителя по адресу на хостинг

3. Сервер хостинга посылает тело сообщений и номер отправителя, принятые хостингом, в telegram канал по chat_id в формате <номер отправителя:тело сообщения>

4. В telegram группе публикуются сообщения от бота, которые видят все участники группы

#### Подготовительные шаги:
##### платформа Android:

1. Разрешить установку от не доверенных источников

2. Установить приложение

3. Зайти в настройки приложения, установить флаги как на скрине


5. Зайти в HTTP настройки, вписать адрес http://nikit34.onthewifi.com/

6. Вернуться на главный экран, нажать на “Start”, gateway запуститься, приложение начнет отсылать SMS. (приложение должно быть запущено для отправки SMS в telegram, при повторном использовании настройка не требуется)

7. Добавиться в группу Product SMS

#### Для поддержки:
- Хостинг на Dynamic Update Client NoIP - http://nikit34.onthewifi.com/

- С вопросами обращаться к @nikit34 - tg

- Коллекция запросов для отладки `gateway_debug.json`

- Для развертывания:
```
docker build --tag 'gateway_sms_tg' .
docker run -p 80:80 --detach 'gateway_sms_tg'
```
